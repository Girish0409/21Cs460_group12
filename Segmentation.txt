Our training data images contain Multiple unstained RBCs along with a stained WBC. In order to make the learning easy for the model, we wanted to send only the WBC portion of the image as a training data.
To do this, we used Image segmentation techniques. We tried to perform Cell segmentation first. We used the research paper from Manik et al {cite here} as a basis.
The method used is hown in the figure below. We began with taking the grayscale image and apply Adaptive Histogram Equalisation (AHE) on it. AHE is a technique that improves the contrast difference in the image. Then, different thresholding algorithms were tested on it. Thresholding is a technique where once you select a threshold and make all values above it 1 and below it 0. This left us with binary image with black background containing white holes at the postition of the cells.
The thresholding algorithms that worked well were otsu isodata and mean thresholding. After that we used erosion for hole filling. Erosion is a technique which removes small black areas within larger white areas. We got good results for images with otsu thresholding only. So, we dropped the other thresholding algorithms. Then, finally using Image opening we were supposed to get rid of all white holes except for the one with WBC.
However, we were unable to achieve this. So, instead we went with Nucleus Segmentation.

The method for nucleus segmentation is shown in the figure below. First the RGB values of image is converted into HSV values where, H = Hue, S = Saturation and V = Value. Then we separate the saturation image and treat it as a separate grayscale image. The reason for this is because the stained nucleus has a considerabely higher saturation value as compared to other regions in the image.
Then using a threshold, we were able to separate them. Three different algorithms gave us decent results. They were otsu, isodata and minimum thresholding. However, none of them worked perfectly for every image. So, we compared the results of each thresholding algorithm for random samples from the data and finally settled on otsu thresholding.
Now we have a binary image with white nucleus and black background. Then we multiplied its values with the original grayscale image to crop out the region containing the nucleus. 